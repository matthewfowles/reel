"use strict";var reel=function(){var e=[],t=0,o=function(){function e(){requestAnimationFrame(function(){i(),a(),e()})}i(),e()},n={opacity:{property:"opacity",update:function(e,t){e.style.opacity=t}},rotate:{property:"transform",update:function(e,t){e.style.transform="rotate("+t+"deg)",e.style.webkitTransform="rotate("+t+"deg)"}}},r=function(e){e.update&&e.property&&(reel.properties[e.property]=e)},i=function(){if(void 0!==window.pageYOffset)t=window.pageYOffset;else{var e,o=document.documentElement,n=document.body;e=o.scrollTop||n.scrollTop||0,t=e}},a=function(){if(e.length>0)for(var t=e.length-1;t>=0;t--)m(e[t])},m=function(e){var t=e.fromPos-e.toPos,o=reel.scroll-e.fromPos,n=e.fromStyle-e.toStyle,r=n/t,i=e.element.style[e.type.property]||0,a=r*o;a!==e.toStyle&&a!==e.fromStyle&&(a>e.toStyle?l(e.element,e.type,i,e.toStyle):a<e.fromStyle?l(e.element,e.type,i,e.fromStyle):l(e.element,e.type,i,a))},l=function(e,t,o,r){n[t]&&n[t].update(e,r)},u=function(t,o,n,r,i,a,m){e.push({name:t,element:o,fromPos:n,toPos:r,type:i,fromStyle:a,toStyle:m})},c=function(t){e.forEach(function(o,n){o.name===t&&e.splice(n,1)})};return function(){for(var e=0,t=["ms","moz","webkit","o"],o=0;o<t.length&&!window.requestAnimationFrame;++o)window.requestAnimationFrame=window[t[o]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[o]+"CancelAnimationFrame"]||window[t[o]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var o=(new Date).getTime(),n=Math.max(0,16-(o-e)),r=window.setTimeout(function(){t(o+n)},n);return e=o+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),o(),{add:u,remove:c,addProperty:r}};module&&module.exports?module.exports=reel:window.reel=reel;