"use strict";var reel=function(){var e=[],t=0,o=function(){function e(){requestAnimationFrame(function(){r(),i(),e()})}r(),e()},n={opacity:{property:"opacity",update:function(e,t){e.style.opacity=t}},rotate:{property:"transform",update:function(e,t){e.style.transform="rotate("+t+"deg)",e.style.webkitTransform="rotate("+t+"deg)"}}},r=function(){if(void 0!==window.pageYOffset)t=window.pageYOffset;else{var e,o=document.documentElement,n=document.body;e=o.scrollTop||n.scrollTop||0,t=e}},i=function(){if(e.length>0)for(var t=e.length-1;t>=0;t--)a(e[t])},a=function(e){var t=e.fromPos-e.toPos,o=reel.scroll-e.fromPos,n=e.fromStyle-e.toStyle,r=n/t,i=e.element.style[e.type.property]||0,a=r*o;a!==e.toStyle&&a!==e.fromStyle&&(a>e.toStyle?m(e.element,e.type,i,e.toStyle):a<e.fromStyle?m(e.element,e.type,i,e.fromStyle):m(e.element,e.type,i,a))},m=function(e,t,o,r){n[t].update(e,r)},l=function(t,o,n,r,i,a,m){e.push({name:t,element:o,fromPos:n,toPos:r,type:i,fromStyle:a,toStyle:m})},u=function(e){};return function(){for(var e=0,t=["ms","moz","webkit","o"],o=0;o<t.length&&!window.requestAnimationFrame;++o)window.requestAnimationFrame=window[t[o]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[o]+"CancelAnimationFrame"]||window[t[o]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var o=(new Date).getTime(),n=Math.max(0,16-(o-e)),r=window.setTimeout(function(){t(o+n)},n);return e=o+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),o(),{add:l,remove:u}};module&&module.exports?module.exports=reel:window.reel=reel;